<html lang="en">

<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<title>鮭魚蘑菇煲仔飯 - Free Will on Neocortex</title>
<link rel="shortcut icon" href="https://zenithfzh.co/favicon.ico">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.2.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css">
<link rel="stylesheet" href="https://zenithfzh.co/media/css/tailwind.css">
<link rel="stylesheet" href="https://zenithfzh.co/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="鮭魚蘑菇煲仔飯 - Free Will on Neocortex - Atom Feed" href="https://zenithfzh.co/atom.xml">


  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-166836012-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'UA-166836012-1');
  </script>
    

  <meta name="description" content="一次嘗試，其背後有很深的含義；以此開啓一個系列——用西洋食材和炊具製作中式菜品，這裏流淌着幾種情思：翻新生活的樂趣，不存在缺乏原材料，只有缺乏巧思；以自我經驗探文化，剝去表層物質化的「洋蔥皮」，抽提文化的內核。汪曾祺先生言：「愛做飯的人，比..." />
  <meta property="og:title" content="鮭魚蘑菇煲仔飯 - Free Will on Neocortex">
  <meta property="og:description" content="一次嘗試，其背後有很深的含義；以此開啓一個系列——用西洋食材和炊具製作中式菜品，這裏流淌着幾種情思：翻新生活的樂趣，不存在缺乏原材料，只有缺乏巧思；以自我經驗探文化，剝去表層物質化的「洋蔥皮」，抽提文化的內核。汪曾祺先生言：「愛做飯的人，比..." />
  <meta property="og:type" content="articles">
  <meta property="og:url" content="https://zenithfzh.co/post/salmon-rice/" />
  <meta property="og:image" content="https://zenithfzh.co/post-images/salmon-rice.jpg">
  <meta property="og:image:height" content="630">
  <meta property="og:image:width" content="1200">
  <meta name="twitter:title" content="鮭魚蘑菇煲仔飯 - Free Will on Neocortex">
  <meta name="twitter:description" content="一次嘗試，其背後有很深的含義；以此開啓一個系列——用西洋食材和炊具製作中式菜品，這裏流淌着幾種情思：翻新生活的樂趣，不存在缺乏原材料，只有缺乏巧思；以自我經驗探文化，剝去表層物質化的「洋蔥皮」，抽提文化的內核。汪曾祺先生言：「愛做飯的人，比...">
  <meta name="twitter:card" content="summary_large_image">
  <link rel="canonical" href="https://zenithfzh.co/post/salmon-rice/">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css">
 
  
    <link rel="stylesheet" href="https://zenithfzh.co/media/css/prism-atom-dark.css">
  

  
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
  
</head>

<body>
  <div class="antialiased flex flex-col min-h-screen" id="app">
    <a href="https://zenithfzh.co" class="fixed top-0 left-0 mt-4 bg-black text-white dark:text-gray-700 dark:bg-yellow-50 dark:hover:bg-black dark:hover:text-white inline-flex p-2 pl-8 hover:text-gray-700 hover:bg-yellow-50 font-bold z-10 transition-fast animated fadeInLeft">
      Free Will on Neocortex
    </a>
    <div class="max-w-4xl w-full mx-auto">
      <div class="shadow-box bg-white dark:bg-gray-600 rounded-lg pt-32 md:pt-64 px-4 md:px-8 pb-8 animated fadeIn mb-8">
        <h1 class="text-5xl font-semibold leading-normal pb-8 mb-8 border-b-8 border-gray-700">
          鮭魚蘑菇煲仔飯
        </h1>
        
          <img src="https://zenithfzh.co/post-images/salmon-rice.jpg" alt="鮭魚蘑菇煲仔飯" class="block w-full mb-8">
        
        <div class="mb-8 flex flex-wrap">
          <div class="text-gray-400 text-sm mr-4">2020-05-14 · 10 min read</div>
          
            <a href="https://zenithfzh.co/tag/oj_XHWVlj/" class="text-gray-700 text-sm border-b-2 border-dotted border-gray-200 hover:border-gray-600 transition-all duration-100 inline-flex mr-2">
              <i class="ri-hashtag"></i>
              Life
            </a>
          
            <a href="https://zenithfzh.co/tag/2isna9EiKi/" class="text-gray-700 text-sm border-b-2 border-dotted border-gray-200 hover:border-gray-600 transition-all duration-100 inline-flex mr-2">
              <i class="ri-hashtag"></i>
              Food
            </a>
          
        </div>
        <div class="markdown mb-8" v-pre>
          <p>一次嘗試，其背後有很深的含義；以此開啓一個系列——用西洋食材和炊具製作中式菜品，這裏流淌着幾種情思：翻新生活的樂趣，不存在缺乏原材料，只有缺乏巧思；以自我經驗探文化，剝去表層物質化的「洋蔥皮」，抽提文化的內核。汪曾祺先生言：「愛做飯的人，比較不自私。」誠然此時獨居，又逢疫情各處封鎖，必然是每日只能「自私」地做飯，如果我能將心得分享，則也能不自私了吧。<br>
另外，提前暴雷：素食主義者酌情退出瀏覽 😉</p>
<!-- more -->
<h2 id="初抵瑞士尷尬異常">初抵瑞士，尷尬異常</h2>
<p>瑞士的德語區重鎮——蘇黎世（Zürich）不管刻板印象如何，我是一早就想好，畢業後要來深造。然而，縱有科技文化財經十八般武藝，這裏「吃」字上的名聲，恐怕是與英國人能「一較高下」。瑞士人在吃上講究，但是外食的體驗往往是不合口味，越是收費高的fine-dining，越是往生冷和油膩兩個方向無所不用其極。其地理上偏很北方，又是山區，瓜果蔬菜很單一，幾乎很少水產，主要蛋白就來自畜牧業的供養。瑞士人就像遊戲中的NPC鐵匠鋪，能給你打得一副好刀具（國人熟知的Victorinox軍刀也造廚具），再加受熱絕對均勻的平底鍋，然而一身「頂級裝備」是否真能英雄無敵，還得看自身的修爲造化：一個很大的攔路虎是竈臺，全是電爐，沒有煤氣明火，和國內極不相似。（雖然我以前來過一次，知曉此種情況，然而還是有苦說不出：在家鍛鍊生活自理，再怎麼鍛鍊，真正實操還是不一樣）疫情的到來又是雪上加霜，無處不封鎖（近日剛逐步解除）想偷懶買Pizza和三文治都不可能。</p>
<p>於是在這種尷尬的情形下，我們的探索開始了。媽媽視訊的時候經常提醒我吃魚，吃蘑菇，吃香腸（火腿），吃米飯。我覺得也有必要列入研究的議程，那就一鍋煮了吧！於是：</p>
<h2 id="文獻綜述-準備材料"><s>文獻綜述</s> 準備材料</h2>
<p>吃魚？優質的蛋白來源，首推魚蝦。此地少有淡水魚出產，多是Salmon（三文魚，鮭魚），要麼是產自阿拉斯加，要麼是產自北歐。不管怎樣，有冷凍也有新鮮的，我本人財力有限，帝王鮭那類自然消費不起，如果想做炊飯，新鮮冷藏的幾乎都是供生吃的魚片，厚一些的魚排只能去冷櫃搜索了。正好去補圖片的時候遇上了三文魚六折大減價。</p>
<figure data-type="image" tabindex="1"><img src="https://zenithfzh.co/post-images/1589821893583.jpg" alt="discount" loading="lazy"></figure>
<p>另外幾樣，則是稀鬆平常貨物。如果跟德語區人民話香腸，幾本書，幾天幾夜都話不完，當然我們選取最平常，也是比較接近國內口味的一種方形切丁的火腿（der Schinkenwürfel）。</p>
<figure data-type="image" tabindex="2"><img src="https://zenithfzh.co/post-images/1589826354688.jpg" alt="wurfel" loading="lazy"></figure>
<p>這裏有一個更詳細的綜述：</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/zS06qf_Giac" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>然後，蘑菇，本地超市似乎僅有所謂「雙孢蘑菇」賣（就是口蘑，品名用的法語champignon），一種棕色一種白色，沒甚麼其他花樣（就見過一次，一包山菌，裏面有國內吃過的平菇）然而無所謂，都是香的。</p>
<figure data-type="image" tabindex="3"><img src="https://zenithfzh.co/post-images/1589826382978.jpg" alt="mushroom" loading="lazy"></figure>
<p>如果還想加些營養，洋蔥胡蘿蔔都可以切丁加進去。</p>
<p>然後就需要找「前人的工作」。這個不需要「下廚房」app，我們有廣大的Youtuber美食博主，給我們展示做飯的各種精妙。當然，要考慮侷限性：你沒有他們一樣的器具，空間，更重要的是那一雙手。所以，用科學的精神來說，就是「可重複性」很好的頻道。這些確實不多，但是也被我找到了。</p>
<p>首先是<a href="https://www.youtube.com/channel/UCr90FXGOO8nAE9B6FAUeTNA">MASAの料理ABC</a>頻道推出的平底鍋簡單雞肉炊飯：</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/uNGyPdufGyY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>一位在台灣扎根的日本人，推出的歐風日式料理。瞬間這個國際主義的感覺就有了。等下，不是說做魚嗎？怎麼跑題到雞塊了？這個原因在這裏：首先，他的步驟和器具都很簡單，就是煎肉、炒蔬菜，放飯加高湯，然後煮，最後悶，就可以了，全程就是一口鍋；其次，這個國際化大媒體做的視覺效果確實好——總體有地中海風情。其實，中餐講求的是「得其法」：不用去拘泥於特別細節的部分而爲其苦惱，講究一個大寫意的風格。有了這個悶飯的主體流程，把其他食材遷移進來實際上是容易的。當然，爲了不翻車，至少還要找到其他<s>文獻</s>支持，於是有另一位溫柔的博主<a href="https://www.youtube.com/channel/UCcb9uxCoIgw7RQjQnlgd0Xw">羅潔塔</a>，這回真的是鮭魚炊飯了：</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/kYnUcgbBh70" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
<p>不過她的步驟相對繁複，而且我也沒有壓力鍋。（但是她的收音效果真的太迷人了，尤其是切菜和鍋裏燉東西的聲音，適合聽着睡覺）不過有一個總的原則，就是 <strong>千萬不要相信博主說的「簡單」</strong><br>
AI裏有遷移學習（transfer learning），做飯又何嘗不是呢？規程（protocol）是死的，人是活的，要充分展示生技學生的素養，不能丟人啊。</p>
<p>不過，接下來就是問題：高湯哪裏來？</p>
<h2 id="解決問題修正流程">解決問題：修正流程</h2>
<p>於是又視訊了媽媽。畢竟是經驗豐富，說話就有課題組導師的風範——「高湯很簡單啊，雞蛋煎炒，scrambled eggs直接加開水，一直燉到乳白色，就是一鍋好湯嘛」</p>
<p>另外一個要解決的問題是：魚是凍的，解凍的注意事項？經過調研，最佳的方法：隔着防水塑料袋浸泡冷水，半個小時左右。主要是衛生——防止微生物在較高的溫度滋生。（另外，快凍慢融，也是細胞凍存與復甦的一個基本原則嘛）防水袋用完可以收起來下次循環使用（注意環保哦）</p>
<figure data-type="image" tabindex="4"><img src="https://zenithfzh.co/post-images/1589826408404.jpg" alt="fishinwater" loading="lazy"></figure>
<p>最後就是米的問題。我們參考MASA的做法，米先淘好，然後也是泡冷水，半個小時左右。要做的時候瀝乾。</p>
<p>如何？兩者同步進行，統籌起來了。</p>
<h2 id="上手操作">上手操作</h2>
<ul>
<li>
<p>如上所述，解凍魚排，電飯煲內膽浸泡生米；但是有一個問題：魚排放在防水袋裏會浮在水面上，無法浸泡，此時怎麼辦呢？直接把裝水泡米的電飯煲內膽扣在上面！另外切菜：胡蘿蔔切碎，洋蔥切丁。<br>
<img src="https://zenithfzh.co/post-images/1589826446139.jpg" alt="pot" loading="lazy"><br>
<img src="https://zenithfzh.co/post-images/1589826459596.jpg" alt="veg" loading="lazy"></p>
</li>
<li>
<p>用湯鍋，加油煎雞蛋（放鹽），做成scrambled eggs，微焦，時加入蘑菇翻炒，此時可以加入綜合胡椒調味，然後加水，煮開後在旁邊小火燉，可以一直持續到需要加湯時；<br>
<img src="https://zenithfzh.co/post-images/1589826489513.jpg" alt="egg1" loading="lazy"><br>
<img src="https://zenithfzh.co/post-images/1589826498533.jpg" alt="egg2" loading="lazy"></p>
</li>
<li>
<p>平底鍋內加一小塊黃油融化，中小火煎魚排，可以邊上放一些迷迭香，再拍兩瓣蒜頭放旁邊；快完成的時候就可以在鍋裏用鏟弄成小塊，然後盛出放一邊，不用再單獨拿出來放案板上切件了；這裏煎到表面變色微焦就行了，後面還要放鍋裏悶，蛋白營養經不起繁複加熱折騰。<br>
<img src="https://i.imgur.com/qeZJDX2.jpg" alt="fryfish" loading="lazy"></p>
</li>
<li>
<p>煎好以後，棄去整條的迷迭香，不換鍋，但是換大火，用原來的油煎火腿丁，大致表面變色有香味出來，如果有的話，加入蔬菜（胡蘿蔔，洋蔥丁）繼續翻炒；</p>
</li>
<li>
<p>加入瀝乾的生米，倒入煮好的湯，攪勻，湯的量大概是剛剛覆蓋所有的食材；把魚丁鋪在表面；加入3湯匙醬油（生抽，對應兩碗飯的量）再攪勻；</p>
<figure data-type="image" tabindex="5"><img src="https://i.imgur.com/tyGPo6I.jpg" alt="together" loading="lazy"></figure>
</li>
<li>
<p>蓋鍋蓋，仍然是大火，10分鐘（對應兩碗飯的量）；然後關火，可以此時中途撒香芹，用餘熱悶5分鐘；確實可以聽到澌澌的聲音；</p>
</li>
<li>
<p>開鍋啦。開鍋蓋後還可以放置兩三分鐘，讓水分跑出來一些，米飯乾爽一些，也冷卻一下。<br>
<img src="https://i.imgur.com/dFloxKQ.jpg" alt="nearfinish" loading="lazy"></p>
</li>
</ul>
<h2 id="神奇效果">神奇效果</h2>
<p>我原以爲，它就是一鍋漂亮的地中海風味的炊飯。沒有想到的是，在鏟鍋底的時候，居然碰到了硬硬的東西——一嚐，是鍋巴！它居然成爲了一鍋「煲仔飯」！而且，有醬油（生抽）的加持，變得格外香。上面的飯因爲是由高湯直接蒸乾，顯得更軟糯一些。整體能滿足不同喜好的需要。整體飯的硬度可以根據湯汁的量做調整，跟電飯鍋煮飯是一樣的。如果湯汁加多一些，會更軟綿，做清淡一些，很適合老人、小朋友和身體不舒服正在恢復的人。<br>
<img src="https://zenithfzh.co/post-images/1589750736200.jpg" alt="bottom" loading="lazy"><br>
原本以爲是一鍋日式歐風料理，沒想到居然注入了粵菜煲仔飯的一些元素，變成了「改造中餐」。那麼，之後再做是不是可以做其他的調整呢？比如，加入燒臘味？難度更加提高，旅程必將繼續。</p>
<h2 id="後記">後記</h2>
<p>這篇作爲自製美食的第一篇，其實是開啓了一個企劃——西洋食材中式炊。從頭到尾，我沒有跑亞洲超市，醬油也是從本地Migros和Coop兩家零售商可以拿到的。一些中國人、在地華人有些觀念——中餐當然食材很重要，沒有那個料，就沒有那個味。</p>
<p>等等，這個怎麼感覺在哪裏聽過？是不是有點像「文化決定論」，最近這個確實有點火，有些人認爲，中國抗疫「做得好」，是因爲，中國人有一種文化，會讓人更compliant，更聽政府的話。我聽了笑哈哈。這一點，秦暉老師在網上直播座談的時候講：（大意）狹義的文化決定論，是要反對的，不是因爲我們不同意他的，是他本身觀點的形成過程就有問題。文化是會和制度相互作用的。你說辦成/辦不成事，是因爲文化，那文化又會作用於制度，制度又會導致另一些事情辦成/辦不成，這不就陷入了雞和蛋的問題，一個循環論證了嗎？所以，不能說哪一種人，就必然會有什麼樣的文化，因而會做出什麼樣的行爲。這叫狹義的文化決定論。其實在裏面起作用的是觀念，而觀念相比文化，實際上是更加浮動的（volatile）。</p>
<p>我發現，這個有點道理。中國文化從來就沒有說要把人限制得死死的，你不這樣就不正宗不硬核。中國文化的元素，會冷不丁來敲門，無心插柳反成蔭。背後呢，我想可能有另一層啓示：不用去刻意塑造，在「初衷」上用勁苦心經營，而是在「行動」上優化保持高質，創新可能就是這麼來的。Karl Popper有言：「歷史的不可預測性，應來源於創新的不可預測性。」Always explore, always be curious, and always be open to any possibility. I hope you like it.</p>

        </div>
        <!-- Share to Twitter, Weibo, Telegram -->
        <div class="flex items-center">
          <div class="mr-4 flex items-center">
            <i class="ri-share-forward-line text-gray-500"></i>
          </div>
          <div class="px-4 cursor-pointer text-blue-500 hover:bg-blue-100 dark:hover:bg-gray-600 inline-flex" @click="shareToTwitter">
            <i class="ri-twitter-line"></i>
          </div>
          <div class="px-4 cursor-pointer text-red-500 hover:bg-red-100 dark:hover:bg-gray-600 inline-flex" @click="shareToWeibo">
            <i class="ri-weibo-line"></i>
          </div>
          <div class="px-4 cursor-pointer text-indigo-500 hover:bg-indigo-100 dark:hover:bg-gray-600 inline-flex" @click="shareToTelegram">
            <i class="ri-telegram-line"></i>
          </div>
        </div>
      </div>

      

      

      <footer class="py-12 text-center px-4 md:px-0" v-pre>
  Powered by a curious man
</footer>
    </div>

    <!-- TOC Container -->
    <div class="fixed right-0 bottom-0 mb-16 mr-4 shadow w-8 h-8 rounded-full flex justify-center items-center z-10 cursor-pointer bg-white dark:bg-gray-500 dark:text-gray-200 hover:shadow-lg transition-all animated fadeInRight" @click="showToc = true">
      <i class="ri-file-list-line"></i>
    </div>

    <div class="fixed right-0 top-0 bottom-0 overflow-y-auto w-64 bg-white dark:bg-gray-800 p-4 border-l border-gray-100 dark:border-gray-600 z-10 transition-fast" :class="{ '-mr-64': !showToc }">
      <div class="flex mb-4 justify-end">
        <div class="w-8 h-8 inline-flex justify-center items-center rounded-full cursor-pointer hover:bg-gray-200 dark:hover:bg-gray-600 transition-fast" @click="showToc = false">
          <i class="ri-close-line text-lg"></i>
        </div>
      </div>
      <div class="post-toc-container">
        <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#%E5%88%9D%E6%8A%B5%E7%91%9E%E5%A3%AB%E5%B0%B7%E5%B0%AC%E7%95%B0%E5%B8%B8">初抵瑞士，尷尬異常</a></li>
<li><a href="#%E6%96%87%E7%8D%BB%E7%B6%9C%E8%BF%B0-%E6%BA%96%E5%82%99%E6%9D%90%E6%96%99"><s>文獻綜述</s> 準備材料</a></li>
<li><a href="#%E8%A7%A3%E6%B1%BA%E5%95%8F%E9%A1%8C%E4%BF%AE%E6%AD%A3%E6%B5%81%E7%A8%8B">解決問題：修正流程</a></li>
<li><a href="#%E4%B8%8A%E6%89%8B%E6%93%8D%E4%BD%9C">上手操作</a></li>
<li><a href="#%E7%A5%9E%E5%A5%87%E6%95%88%E6%9E%9C">神奇效果</a></li>
<li><a href="#%E5%BE%8C%E8%A8%98">後記</a></li>
</ul>
</li>
</ul>

      </div>
    </div>

    <!-- Back to top -->
    <div class="fixed right-0 bottom-0 mb-4 mr-4 shadow w-8 h-8 rounded-full flex justify-center items-center z-10 cursor-pointer bg-white hover:shadow-lg transition-all dark:bg-gray-500 dark:text-gray-200" @click="backToUp" v-show="scrolled">
      <i class="ri-arrow-up-line"></i>
    </div>
  </div>

  <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
  <!-- Background of PhotoSwipe. 
        It's a separate element as animating opacity is faster than rgba(). -->
  <div class="pswp__bg">
  </div>
  <!-- Slides wrapper with overflow:hidden. -->
  <div class="pswp__scroll-wrap">
    <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
    <div class="pswp__container">
      <div class="pswp__item">
      </div>
      <div class="pswp__item">
      </div>
      <div class="pswp__item">
      </div>
    </div>
    <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
    <div class="pswp__ui pswp__ui--hidden">
      <div class="pswp__top-bar">
        <!--  Controls are self-explanatory. Order can be changed. -->
        <div class="pswp__counter">
        </div>
        <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
        <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
        <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
        <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
        <!-- element will get class pswp__preloader--active when preloader is running -->
        <div class="pswp__preloader">
          <div class="pswp__preloader__icn">
            <div class="pswp__preloader__cut">
              <div class="pswp__preloader__donut">
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
        <div class="pswp__share-tooltip">
        </div>
      </div>
      <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
      </button>
      <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
      </button>
      <div class="pswp__caption">
        <div class="pswp__caption__center">
        </div>
      </div>
    </div>
  </div>
</div>

  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="https://zenithfzh.co/media/scripts/main.js"></script>
  
  <!-- Code Highlight -->
  
    <script src="https://zenithfzh.co/media/prism.js"></script>
    <script>
      Prism.highlightAll()
    </script>
  

  <script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>
  <script>
    //拿到预览框架，也就是上面的html代码
    var pswpElement = document.querySelectorAll('.pswp')[0];
    //定义图片数组变量
    var imgitems;
    /**
    * 用于显示预览界面
    * @param index 图片数组下标
    */
    function viewImg(index) {
      //其它选项这里不做过多阐述，详情见官网
      var pswpoptions = {
        index: parseInt(index, 10), // 开始幻灯片索引。0是第一张幻灯片。必须是整数，而不是字符串。
        bgOpacity: 0.7, // 背景透明度，0-1
        maxSpreadZoom: 3, // 缩放级别，不要太大
      };
      //初始化并打开PhotoSwipe，pswpElement对应上面预览框架，PhotoSwipeUI_Default为皮肤，imgitems为图片数组，pswpoptions为选项
      var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, imgitems, pswpoptions);
      gallery.init()
    }
    /**
    * 用于添加图片点击事件
    * @param img 图片元素
    * @param index 所属下标（在imgitems中的位置）
    */
    function addImgClick(img, index) {
      img.onclick = function() {
        viewImg(index)
      }
    }
    /**
    * 轮询所有图片，获取src、width、height等数据，加入imgitems，并给图片元素添加事件
    * 最好在onload中执行该方法，本站因放在最底部，所以直接初始化
    * 异步加载图片可在图片元素创建完成后调用此方法
    */
    function initImg() {
      //重置图片数组
      imgitems = [];
      //查找class:markdown 下的所有img元素并遍历
      var imgs = document.querySelectorAll('.markdown img');
      for (var i = 0; i < imgs.length; i++) {
        var img = imgs[i];
        //本站相册初始为loading图片，真实图片放在data-src
        var ds = img.getAttribute("data-src");
        //创建image对象，用于获取图片宽高
        var imgtemp = new Image();
        //判断是否存在data-src
        if (ds != null && ds.length > 0) {
          imgtemp.src = ds
        } else {
          imgtemp.src = img.src
        }
        //判断是否存在缓存
        if (imgtemp.complete) {
          var imgobj = {
            "src": imgtemp.src,
            "w": imgtemp.width,
            "h": imgtemp.height,
          };
          imgitems[i] = imgobj;
          addImgClick(img, i);
        } else {
          console.log('进来了2')
          imgtemp.index = i;
          imgtemp.img = img;
          imgtemp.onload = function() {
            var imgobj = {
              "src": this.src,
              "w": this.width,
              "h": this.height,
            };
            //不要使用push，因为onload前后顺序会不同
            imgitems[this.index] = imgobj
            //添加点击事件
            addImgClick(this.img, this.index);
          }
        }
      }
    }
    //初始化
    initImg();
  </script>
  
  
</body>

</html>